<ng-container *ngIf="!registering; else regTemplate">
  <h4 class="header">Login</h4>
  <form class="login" (ngSubmit)="submitLogin()">
    <div class="form-group">
      <label>Email</label>
      <input class="form-control" type="text" name="username" [(ngModel)]="username" />
    </div>
    <div class="form-group">
      <label>Password</label>
      <input class="form-control" type="password" name="password" [(ngModel)]="password" />
    </div>
    <div class="form-group my-4">
      <button class="btn btn-primary btn-block" type="submit" [disabled]="loading">
        Login
      </button>
      <ng-container *ngIf="failed">
        <span class="failure">Incorrect username or password.</span>
      </ng-container>
    </div>
  </form>
  <div class="register">
    Don't have an account?
    <a href="#" (click)="$event.preventDefault(); switchMode()">Register</a>
  </div>
  <hr class="or" />
  <div class="skip">
    <a href="#" (click)="$event.preventDefault(); dismiss()">Continue as guest</a>
  </div>
</ng-container>
<ng-template #regTemplate>
  <h4 class="header">Register</h4>
  <form class="login" (ngSubmit)="submitRegistration()">
    <div class="form-group">
      <label>Email</label>
      <input class="form-control" type="text" name="username" [(ngModel)]="username" />
    </div>
    <div class="form-group">
      <label>Password</label>
      <input class="form-control" type="password" name="password" [(ngModel)]="password" />
    </div>
    <div class="form-group">
      <label>Confirm Password</label>
      <input class="form-control" type="password" name="password2" [(ngModel)]="password2" />
      <small class="form-text text-muted">Your password must be at least 6 characters.</small>
    </div>
    <div class="form-group">
      <div class="form-check">
        <input
          class="form-check-input"
          type="checkbox"
          id="email-marketing"
          name="email-marketing"
          [(ngModel)]="regEmailMarketing"
        />
        <label class="form-check-label" for="email-marketing">
          I would like to subscribe to email updates!
        </label>
      </div>
      <div class="form-check">
        <input
          class="form-check-input"
          type="checkbox"
          id="user-testing"
          name="user-testing"
          [(ngModel)]="regUserTesting"
        />
        <label class="form-check-label" for="user-testing">
          I would like to be contacted to help with user testing!
        </label>
      </div>
    </div>
    <div class="form-group my-4">
      <button class="btn btn-primary btn-block" type="submit" [disabled]="loading">
        Register
      </button>
      <small class="form-text text-muted text-center px-3">
        By clicking Register, you agree to GradTrak&lsquo;s
        <a href="https://gradtrak.me/terms/" target="_blank">Terms of Service</a> and
        <a href="https://gradtrak.me/privacy/" target="_blank">Privacy Policy</a>.
      </small>
      <ng-container *ngIf="regError">
        <span class="failure">{{ regError }}</span>
      </ng-container>
    </div>
  </form>
  <div class="register">
    Have an account?
    <a href="#" (click)="$event.preventDefault(); switchMode()">Log In</a>
  </div>
  <hr class="or" />
  <div class="skip">
    <a href="#" (click)="$event.preventDefault(); dismiss()">Continue as guest</a>
  </div>
</ng-template>
