<ng-container *ngIf="!registering; else regTemplate">
  <div class="modal-body">
    <h4 class="header">Login</h4>
    <form (ngSubmit)="submitLogin()">
      <label>Email</label>
      <input class="form-control" type="text" name="username" [(ngModel)]="username" />
      <label>Password</label>
      <input class="form-control" type="password" name="password" [(ngModel)]="password" />
      <br />
      <button class="btn btn-primary btn-block gt-button gt-button-secondary" type="submit" [disabled]="loading">
        Login
      </button>
      <ng-container *ngIf="failed">
        <span class="failure">Incorrect username or password.</span>
      </ng-container>
    </form>
    <div class="register">
      Don't have an account?
      <a href="#" (click)="$event.preventDefault(); switchMode()">Register</a>
    </div>
    <hr class="or" />
    <div class="skip">
      <a href="#" (click)="$event.preventDefault(); dismiss()">Continue as guest</a>
    </div>
  </div>
</ng-container>
<ng-template #regTemplate>
  <div class="modal-body">
    <h4 class="header">Register</h4>
    <form (ngSubmit)="submitRegistration()">
      <label>Email</label>
      <input class="form-control" type="text" name="username" [(ngModel)]="username" />
      <label>Password</label>
      <input class="form-control" type="password" name="password" [(ngModel)]="password" />
      <label>Confirm Password</label>
      <input class="form-control" type="password" name="password2" [(ngModel)]="password2" />
      <div class="form-check">
        <input
          class="form-check-input"
          type="checkbox"
          id="email-marketing"
          name="email-marketing"
          [(ngModel)]="regEmailMarketing"
        />
        <label class="form-check-label" for="email-marketing">
          I would like to receive updates on new features!
        </label>
      </div>
      <div class="form-check">
        <input
          class="form-check-input"
          type="checkbox"
          id="user-testing"
          name="user-testing"
          [(ngModel)]="regUserTesting"
        />
        <label class="form-check-label" for="user-testing">
          I would like to be contacted to help with user testing!
        </label>
      </div>
      <br />
      <button class="btn btn-primary btn-block gt-button gt-button-secondary" type="submit" [disabled]="loading">
        Register
      </button>
      <ng-container *ngIf="regError">
        <span class="failure">{{ regError }}</span>
      </ng-container>
    </form>
    <div class="register">
      Have an account?
      <a href="#" (click)="$event.preventDefault(); switchMode()">Log In</a>
    </div>
    <hr class="or" />
    <div class="skip">
      <a href="#" (click)="$event.preventDefault(); dismiss()">Continue as guest</a>
    </div>
  </div>
</ng-template>
